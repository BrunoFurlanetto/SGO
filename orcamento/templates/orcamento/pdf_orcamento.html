{% extends 'base.html' %}
{% load static %}
{% load custom_tag %}
{% include 'parciais/_head.html' %}

{% block conteudo %}
    <link rel="stylesheet" href="{% static 'css/style_pdf_orcamento.css' %}">
    <div id="conteudo_pdf_orcamento">
        <div id="paginas_pdf_orcamento">
            <div class="pagina fixo">
                <img src="{% static 'img/capa_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg2_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg3_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg4_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg5_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg6_orcamento.png' %}" alt="">
            </div>
            <div class="pagina fixo">
                <img src="{% static 'img/pg7_orcamento.png' %}" alt="">
            </div>
        </div>

        <script>
            const pdfContainer = document.getElementById('paginas_pdf_orcamento');
            let scale = 1.0;

            document.addEventListener('wheel', (event) => {
                if (event.ctrlKey) {
                    event.preventDefault();
                    const direction = event.deltaY > 0 ? -0.1 : 0.1;
                    scale += direction / 2;
                    scale = Math.max(0.2, Math.min(scale, 3.0));

                    updateScale();
                }
            }, {passive: false});

            function updateScale() {
                if (scale <= 1.0) {
                    document.querySelectorAll('#paginas_pdf_orcamento').forEach(page => {
                        page.style.transform = `scale(${scale})`
                    });
                }
            }
        </script>
    </div>
{% endblock %}